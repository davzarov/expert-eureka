{% extends "base.html" %}

{% load static %}

{% block title %}POS | {{block.super}}{% endblock title %}

{% block extra_css %}
  {{ block.super }}
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
{% endblock extra_css %}

{% block content %}
<div id="app">
  <div class="row">
    <catalogo></catalogo>
    <checkout></checkout>
  </div>
</div>

<script>
  const root_el = document.getElementById('app');
  var catalogo = Vue.component('catalogo', {
    data: function () {
      return {
        categorias: {{ categorias|safe }},
      }
    },
    template: `
      <div class="col m8">
        <code>{{categorias}}</code>
        <div class="row">
          <div class="col s12">
            <ul class="tabs">
              <li v-for="(categoria, index) in categorias" :key=index class="tab col s3">
                <a class="active" href="#categoria{{categoria.pk}}">{{categoria.pk}}</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    `,
  });
  var checkout = Vue.component('checkout', {
    data: function () {
      return {
        //
      }
    },
    template: `
      <div class="col m4">
        <ul class="collection">
          <li class="collection-item">
            <span class="title">Title</span>
            <a href="#!" class="secondary-content"><i class="material-icons">grade</i></a>
          </li>
          <li class="collection-item">
            <span class="title">Title</span>
            <a href="#!" class="secondary-content"><i class="material-icons">grade</i></a>
          </li>
        </ul>  
      </div>
    `,
  });
  const app = new Vue({
    delimiters: ['[[', ']]'],
    el: root_el,
    components: {
      catalogo: catalogo,
      checkout: checkout
    }
  });
</script>
{% endblock content %}

{% block extra_materialize_js %}
  {{block.super}}
  var tabs = M.Tabs.init(document.querySelector('.tabs'));
  var collection = document.querySelector('.collection');
{% endblock extra_materialize_js %}